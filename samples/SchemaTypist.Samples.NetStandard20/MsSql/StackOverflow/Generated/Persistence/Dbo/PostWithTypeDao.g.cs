//------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by a tool.
//
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------

using Dapper;
using SchemaTypist;
using SchemaTypist.DatabaseMetadata;
using System;
using System.Collections.Generic;
using System.Reflection;
using SchemaTypist.Samples.NetStandard20.StackOverflow.Generated.Domain.Dbo;

namespace SchemaTypist.Samples.NetStandard20.StackOverflow.Generated.Persistence.Dbo
{
	public static partial class PostWithTypeDao
	{
		static partial class Constants
		{
			public const string AcceptedAnswerId = "AcceptedAnswerId";
			public const string AnswerCount = "AnswerCount";
			public const string Body = "Body";
			public const string ClosedDate = "ClosedDate";
			public const string CommentCount = "CommentCount";
			public const string CommunityOwnedDate = "CommunityOwnedDate";
			public const string CreationDate = "CreationDate";
			public const string FavoriteCount = "FavoriteCount";
			public const string Halflife = "halflife";
			public const string Id = "Id";
			public const string LastActivityDate = "LastActivityDate";
			public const string LastEditDate = "LastEditDate";
			public const string LastEditorDisplayName = "LastEditorDisplayName";
			public const string LastEditorUserId = "LastEditorUserId";
			public const string OwnerUserId = "OwnerUserId";
			public const string ParentId = "ParentId";
			public const string PostTypeId = "PostTypeId";
			public const string Score = "Score";
			public const string Tag = "Tags";
			public const string Title = "Title";
			public const string Type = "Type";
			public const string ViewCount = "ViewCount";
		}

		public static TableDefinition Table => new TableDefinition();

		public partial class TableDefinition : TabularDefinition
		{
			public TableDefinition() : base("StackOverflow.dbo.PostWithType")
			{
				AcceptedAnswerId = new ColumnDefinition(Constants.AcceptedAnswerId, this);
				AnswerCount = new ColumnDefinition(Constants.AnswerCount, this);
				Body = new ColumnDefinition(Constants.Body, this);
				ClosedDate = new ColumnDefinition(Constants.ClosedDate, this);
				CommentCount = new ColumnDefinition(Constants.CommentCount, this);
				CommunityOwnedDate = new ColumnDefinition(Constants.CommunityOwnedDate, this);
				CreationDate = new ColumnDefinition(Constants.CreationDate, this);
				FavoriteCount = new ColumnDefinition(Constants.FavoriteCount, this);
				Halflife = new ColumnDefinition(Constants.Halflife, this);
				Id = new ColumnDefinition(Constants.Id, this);
				LastActivityDate = new ColumnDefinition(Constants.LastActivityDate, this);
				LastEditDate = new ColumnDefinition(Constants.LastEditDate, this);
				LastEditorDisplayName = new ColumnDefinition(Constants.LastEditorDisplayName, this);
				LastEditorUserId = new ColumnDefinition(Constants.LastEditorUserId, this);
				OwnerUserId = new ColumnDefinition(Constants.OwnerUserId, this);
				ParentId = new ColumnDefinition(Constants.ParentId, this);
				PostTypeId = new ColumnDefinition(Constants.PostTypeId, this);
				Score = new ColumnDefinition(Constants.Score, this);
				Tag = new ColumnDefinition(Constants.Tag, this);
				Title = new ColumnDefinition(Constants.Title, this);
				Type = new ColumnDefinition(Constants.Type, this);
				ViewCount = new ColumnDefinition(Constants.ViewCount, this);
			}

			public TableDefinition As(string alias) => base.As<TableDefinition>(alias);

			public ColumnDefinition AcceptedAnswerId { get; private set; }
			public ColumnDefinition AnswerCount { get; private set; }
			public ColumnDefinition Body { get; private set; }
			public ColumnDefinition ClosedDate { get; private set; }
			public ColumnDefinition CommentCount { get; private set; }
			public ColumnDefinition CommunityOwnedDate { get; private set; }
			public ColumnDefinition CreationDate { get; private set; }
			public ColumnDefinition FavoriteCount { get; private set; }
			public ColumnDefinition Halflife { get; private set; }
			public ColumnDefinition Id { get; private set; }
			public ColumnDefinition LastActivityDate { get; private set; }
			public ColumnDefinition LastEditDate { get; private set; }
			public ColumnDefinition LastEditorDisplayName { get; private set; }
			public ColumnDefinition LastEditorUserId { get; private set; }
			public ColumnDefinition OwnerUserId { get; private set; }
			public ColumnDefinition ParentId { get; private set; }
			public ColumnDefinition PostTypeId { get; private set; }
			public ColumnDefinition Score { get; private set; }
			public ColumnDefinition Tag { get; private set; }
			public ColumnDefinition Title { get; private set; }
			public ColumnDefinition Type { get; private set; }
			public ColumnDefinition ViewCount { get; private set; }

		}
	
		public static partial class QueryResults
		{
			private static Dictionary<string, string> columnMap = new Dictionary<string, string>()
			{
				{Constants.AcceptedAnswerId, nameof(PostWithType.AcceptedAnswerId) },
				{Constants.AnswerCount, nameof(PostWithType.AnswerCount) },
				{Constants.Body, nameof(PostWithType.Body) },
				{Constants.ClosedDate, nameof(PostWithType.ClosedDate) },
				{Constants.CommentCount, nameof(PostWithType.CommentCount) },
				{Constants.CommunityOwnedDate, nameof(PostWithType.CommunityOwnedDate) },
				{Constants.CreationDate, nameof(PostWithType.CreationDate) },
				{Constants.FavoriteCount, nameof(PostWithType.FavoriteCount) },
				{Constants.Halflife, nameof(PostWithType.Halflife) },
				{Constants.Id, nameof(PostWithType.Id) },
				{Constants.LastActivityDate, nameof(PostWithType.LastActivityDate) },
				{Constants.LastEditDate, nameof(PostWithType.LastEditDate) },
				{Constants.LastEditorDisplayName, nameof(PostWithType.LastEditorDisplayName) },
				{Constants.LastEditorUserId, nameof(PostWithType.LastEditorUserId) },
				{Constants.OwnerUserId, nameof(PostWithType.OwnerUserId) },
				{Constants.ParentId, nameof(PostWithType.ParentId) },
				{Constants.PostTypeId, nameof(PostWithType.PostTypeId) },
				{Constants.Score, nameof(PostWithType.Score) },
				{Constants.Tag, nameof(PostWithType.Tag) },
				{Constants.Title, nameof(PostWithType.Title) },
				{Constants.Type, nameof(PostWithType.Type) },
				{Constants.ViewCount, nameof(PostWithType.ViewCount) },
			};

			static Func<Type, string, PropertyInfo> GetMapperFunc()
			{
				var mapper = new Func<Type, string, PropertyInfo>((t, columnName) =>
				{
					if (columnMap.ContainsKey(columnName)) return t.GetProperty(columnMap[columnName]);
					return t.GetProperty(columnName);
				}
				);
				return mapper;
			}

			public static CustomPropertyTypeMap GetTypeMap()
			{
				var typeMap = new CustomPropertyTypeMap(typeof(PostWithType), GetMapperFunc());
				CustomizeTypeMap(typeMap);
				return typeMap;
			}

			static partial void CustomizeTypeMap(CustomPropertyTypeMap typeMap);
		}
	}
}